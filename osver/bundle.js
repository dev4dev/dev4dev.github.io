(()=>{var e={228:e=>{e.exports=function e(t,r){"use strict";var n,s,i=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,l=/^0x[0-9a-f]+$/i,c=/^0/,d=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=d(t).replace(o,"")||"",p=d(r).replace(o,"")||"",u=f.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=p.replace(i,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(l),16)||1!==u.length&&f.match(a)&&Date.parse(f),w=parseInt(p.match(l),16)||m&&p.match(a)&&Date.parse(p)||null;if(w){if(m<w)return-1;if(m>w)return 1}for(var v=0,g=Math.max(u.length,h.length);v<g;v++){if(n=!(u[v]||"").match(c)&&parseFloat(u[v])||u[v]||0,s=!(h[v]||"").match(c)&&parseFloat(h[v])||h[v]||0,isNaN(n)!==isNaN(s))return isNaN(n)?1:-1;if(typeof n!=typeof s&&(n+="",s+=""),n<s)return-1;if(n>s)return 1}return 0}},327:(e,t,r)=>{"use strict";r.r(t)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{r(327);const e=r(228);class t{file;constructor(e){this.file=e}load(){return new Promise(((e,t)=>{const r=new FileReader;r.onload=function(){e(r.result??""),r.result},r.onerror=function(){t("Some shit happened while reading file")},r.readAsText(this.file)}))}getVersions(e){return new Promise(((t,r)=>{const n=e.split("\n").map((e=>e.trim()));let s=!1,i=[];for(const e of n)if(!e.startsWith("OS with version")||s){if(s){if(""===e)break;i.push(e)}}else s=!0;t(i)}))}parse(){return this.load().then(this.getVersions)}}class n{versions;constructor(e){this.versions=e}parse(){return new Promise(((t,r)=>{this.versions.sort(e);let n={};for(const e of this.versions){const[t,r]=e.split(","),[s]=t.split(".");if(""===s){console.warn("Empty version: ",e);continue}let i=s.trim(),o=n[i]||0;o+=parseInt(r,10),n[i]=o}let s={};for(const e in n){const[t]=e.split(" ");s[t]||(s[t]={}),s[t][e]=n[e]}t(s)}))}}class s{static format(e){return new Promise(((t,r)=>{let n="";for(const t in e){n+=`<h4>${t}</h4>`;const r=e[t];n+='<table><thead><tr><th scope="col">Version</th><th scope="col">Count</th></tr></thead><tbody>';for(const e in r)n+=`<tr><td class="name">${e}</td><td class="count">${r[e]}</td></tr>`;n+="</tbody></table>"}t(n)}))}}async function i(){o.innerText="Processing...";let e=new t(l.files[0]),r=await e.parse(),i=new n(r),a=await i.parse();o.innerHTML=await s.format(a)}const o=document.getElementById("result"),a=document.getElementById("action"),l=document.getElementById("csv");a?.addEventListener("click",(async e=>{e.preventDefault(),0!=l.files.length?await i():o.innerHTML='<div class="text-danger">Select file!</div>'}))})()})();
//# sourceMappingURL=bundle.js.map